<dom-module id="pratilipi-author-books">

	<style>

		:host {
			display: block;
		}
		
		paper-card {
			width: 100%;
			padding-top: 15px;
			padding-bottom: 15px;
		}
		
	</style>


	<template>
		<paper-card>
			<div class="row text-center">
				<a id="drafts" class="col-xs-6 col-sm-6 col-md-6 col-lg-6" href="#drafts" on-click="draftsClicked">
					Drafts
				</a>
				<a id="published" class="col-xs-6 col-sm-6 col-md-6 col-lg-6" href="#published" on-click="publishedClicked">
					Published Contents
				</a>
			</div>
		</paper-card>
		<br class="pratilipi-break" />
		<pratilipi-card-grid
			id='booksByAuthor'
			author-id='{{ author.authorId }}'
			include-add-card="true"
			pratilipi-list='{{ pratilipiList }}'
			></pratilipi-card-grid>
		<iron-ajax
				id="AjaxGetDraftedList"
				url="/api/pratilipi/list"
				method="GET"
				content-type="application/json"
				handle-as="json"
				on-response="_handleAjaxGetDraftedListResponse"
				on-error="_handleAjaxGetDraftedListError"
				></iron-ajax>
		<iron-ajax
				id="AjaxGetPublishedList"
				url="/api/pratilipi/list"
				method="GET"
				content-type="application/json"
				handle-as="json"
				on-response="_handleAjaxGetPublishedListResponse"
				on-error="_handleAjaxGetPublishedListError"
				></iron-ajax>
	</template>


	<script>

		Polymer({
			
			is: 'pratilipi-author-books',
			
			properties: {
				author: { type: Object },
				pratilipiList: { type: Array, value: {} },
				
				draftedContents: { type: Array, value: {} },
				draftedListCursor: { type: String },
				
				publishedContents: { type: Array, value: {} },
				publishedListCursor: { type: String }
			},
			
			attached: function() {
				this.draftsClicked();
			},
			
			removeAllClasses: function() {
				jQuery( '#drafts' ).removeClass( 'active' );
				jQuery( '#drafts' ).removeClass( 'inactive' );
				jQuery( '#published' ).removeClass( 'active' );
				jQuery( '#published' ).removeClass( 'inactive' );
			},
			
			draftsClicked: function() {
				this.removeAllClasses();
				jQuery( '#drafts' ).addClass( 'active' );
				jQuery( '#published' ).addClass( 'inactive' );
				
				// Load Drafted Contents
				this.loadDraftedContents();
			},
		
			publishedClicked: function() {
				this.removeAllClasses();
				jQuery( '#published' ).addClass( 'active' );
				jQuery( '#drafts' ).addClass( 'inactive' );
				
				// Load Published Contents
				this.loadPublishedContents();
			},
			
			loadDraftedContents: function() {
				// Make AJAX Call
			},
			
			loadPublishedContents: function() {
				// Make AJAX Call				
			},
			
			_handleAjaxGetDraftedListResponse: function() {
				
			},
			
			_handleAjaxGetDraftedListError: function() {
				
			},
			
			_handleAjaxGetPublishedListResponse: function() {
				
			},
			
			_handleAjaxGetPublishedListError: function() {
				
			}
		});

	</script>

</dom-module>