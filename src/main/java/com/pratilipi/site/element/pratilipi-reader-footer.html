<dom-module id="pratilipi-reader-footer">

	<style>
		:host {
			display: block;
		}
	</style>


	<template>
		<div class="parent-container margin-top-bottom">
			<div class="horizontal layout center">
				<paper-slider
						class="flex" pin
						min="1" max="{{ pageCount }}" value="{{ pageNo }}"
						disabled="{{ sliderDisabled }}"></paper-slider>
				<paper-fab
						mini style="margin-right:10px"
						icon="icons:chevron-left" title="Previous Page"
						disabled="{{ prevButtonDisabled }}"
						on-click="showPrevious"></paper-fab>
				<paper-fab
						mini style="margin-right:10px"
						icon="icons:chevron-right" title="Next Page"
						disabled="{{ nextButtonDisabled }}"
						on-click="showNext"></paper-fab>
	
				<iron-a11y-keys
						target="[[ a11yKeysTarget ]]"
						keys="left"
						on-keys-pressed="showPrevious"></iron-a11y-keys>
				<iron-a11y-keys
						target="[[ a11yKeysTarget ]]"
						keys="right"
						on-keys-pressed="showNext"></iron-a11y-keys>
			</div>
		</div>
	</template>
	
	
	<script>

		Polymer({

			is: 'pratilipi-reader-footer',
			
			properties: {
				pageNo: { type:Number, notify: true, observer: "_pageNoChanged" },
				pageCount: { type:Number },
				sliderDisabled: { type:Boolean },
				prevButtonDisabled: { type:Boolean },
				nextButtonDisabled: { type:Boolean },
				a11yKeysTarget: {
					type: Object,
					value: function() {
						return window;
					}
				},
			},
			
			_pageNoChanged: function() {
				this.prevButtonDisabled = this.pageNo <= 1;
				this.nextButtonDisabled = this.pageNo >= this.pageCount;
			},

			showPrevious: function() {
				if( this.pageNo > 1 )
					this.set( 'pageNo', this.pageNo - 1 );
			},
			
			showNext: function() {
				if( this.pageNo < this.pageCount )
					this.set( 'pageNo', this.pageNo + 1 );
			},
			
			ready: function() {
				this.sliderDisabled = this.pageCount <= 1;
			}
			
		});

	</script>

</dom-module>