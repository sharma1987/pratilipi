<dom-module id="pratilipi-rating-input">

	<style>

		:host {
			display: inline-block;
		}
		
		div > div {
			direction: rtl;
			cursor: pointer;
		}

		.glyphicon {
			color: #D0021B;
		}

		.glyphicon:hover ~ .glyphicon, .glyphicon:hover {
			color: #D0021B;
		}
		
		iron-icon {
			width: 20px;
			height: 20px;
		}

	</style>


	<template>
		<div class="secondary-500">
			<span style="cursor: default; color: #333; display: inline-block; margin: 0px; font-size: 15px;">{{ title }}&nbsp;&minus;&nbsp;{{ text }}</span>
			<br/>
			<div style="display: block; float: left;">
				<iron-icon icon="{{ icon5 }}" class="glyphicon" on-mouseover="showFiveStars"  on-mouseout="init" on-click="rateFiveStars"></iron-icon>
				<iron-icon icon="{{ icon4 }}" class="glyphicon" on-mouseover="showFourStars"  on-mouseout="init" on-click="rateFourStars"></iron-icon>
				<iron-icon icon="{{ icon3 }}" class="glyphicon" on-mouseover="showThreeStars" on-mouseout="init" on-click="rateThreeStars"></iron-icon>
				<iron-icon icon="{{ icon2 }}" class="glyphicon" on-mouseover="showTwoStars"   on-mouseout="init" on-click="rateTwoStars"></iron-icon>
				<iron-icon icon="{{ icon1 }}" class="glyphicon" on-mouseover="showOneStar"    on-mouseout="init" on-click="rateOneStar"></iron-icon>
			</div>
		</div>
	</template>


	<script>

		Polymer({

			is: 'pratilipi-rating-input',

			properties: {
				value: { type: Number, value: 0, notify: true, observer: 'init' }
			},
			
			init: function() {
				if( this.value == null || this.value == 0 )
					this.title = '${ _strings.rating_rate_this }';
				else
					this.title = '${ _strings.rating_your_rating }';
				
				switch( this.value ) {
					case 0:
						this.text = null;
						break;
					case 1:
						this.showOneStar();
						break;
					case 2:
						this.showTwoStars();
						break;
					case 3:
						this.showThreeStars();
						break;
					case 4:
						this.showFourStars();
						break;
					case 5:
						this.showFiveStars();
						break;
				}
			},
			
			setRating: function( value ) {
				this.set( 'value', value );
				this.setStar( this.value );
				this.init();
			},
			
			setStar: function( n ) {
				for( var i = 1; i <= 5; i++ )
					this.set( "icon" + i, "star-border" );
				for( var i = 1; i <= n; i++ )
					this.set( "icon" + i, "star" );
			},
			
			showOneStar: function() {
				this.text = '${ _strings.rating_1_star }';
			},

			showTwoStars: function() {
				this.text = '${ _strings.rating_2_star }';
			},
			
			showThreeStars: function() {
				this.text = '${ _strings.rating_3_star }';
			},
			
			showFourStars: function() {
				this.text = '${ _strings.rating_4_star }';
			},
			
			showFiveStars: function() {
				this.text = '${ _strings.rating_5_star }';
			},
			
			
			rateOneStar: function() {
				this.value = 1;
				this.setStar(1);
			},

			rateTwoStars: function() {
				this.value = 2;
				this.setStar(2);
			},
			
			rateThreeStars: function() {
				this.value = 3;
				this.setStar(3);
			},
			
			rateFourStars: function() {
				this.value = 4;
				this.setStar(4);
			},
			
			rateFiveStars: function() {
				this.value = 5;
				this.setStar(5);
			},

			ready: function() {
				this.setRating( 0 );
			}

		});

	</script>

</dom-module>