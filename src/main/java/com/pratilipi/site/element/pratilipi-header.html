<!-- Version:6.0 -->

<link rel='import' href='pratilipi-navigation-drawer.html'>
<link rel="import" href="pratilipi-search-bar.html" />

<dom-module id="pratilipi-header">

	<style>

		:host {
			display: block;
		}
		
		img {
			height: 150px;
			width: 150px;
		}
		
	</style>


	<template>
		<div class="primary-500">
			<div class="container">
			
				<a href="/">
					<img class="pull-left" title="${ _strings.pratilipi_logo }" alt="${ _strings.pratilipi_logo }" src="${ _strings.pratilipi_logo_url }" />
				</a>
				
				<div style="margin-top:51px; margin-bottom:45px; text-align:right;">
				
					<template is="dom-if" if="{{ user.isGuest }}">
						<a href="#">${ _strings.sign_in_with_facebook }</a>
						&nbsp;
						<a href="#" on-click="logIn">${ _strings.sign_in }</a>
						&nbsp;
					</template>

					<template is="dom-if" if="{{ !user.isGuest }}">
						<span class="dropdown">
							<a class="dropdown-toggle" id="ProfileMenu" data-toggle="dropdown" aria-expanded="true">
								<span>{{ user.name }}</span>&nbsp;<span class="caret"></span>
							</a>
							<ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="ProfileMenu">
								<li role="presentation"><a role="menuitem" tabindex="-1" href="#" on-click="logOut">${ _strings.sign_out }</a></li>
							</ul>
						</span>
						&nbsp;
					</template>
					
					<span class="dropdown">
						<a class="dropdown-toggle" id="LanguageMenu" data-toggle="dropdown" aria-expanded="true">
							${ _strings.choose_language } &nbsp; <span class="caret"></span>
						</a>
						<ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="LanguageMenu">
							<li role="presentation"><a role="menuitem" tabindex="-1" href="//www.pratilipi.com">${ _strings.language_all }</a></li>
							<li role="presentation"><a role="menuitem" tabindex="-1" href="//tamil.pratilipi.com">${ _strings.language_ta }</a></li>
						</ul>
					</span>
					&nbsp;
					
				</div>
		
				<!-- Search bar for extra-small & small screens. -->
				<pratilipi-search-bar class="hidden-xs hidden-sm"></pratilipi-search-bar>
				
			</div>
			
			<!-- Navigation & Search bar for medium & large screens. -->
			<div class="container hidden-md hidden-lg">
				<pratilipi-search-bar>
					<span class="input-group-btn">
						<button class="btn" type="button" on-click="showMenu">
							${ _strings.menu }
						</button>
					</span>
				</pratilipi-search-bar>
				<pratilipi-navigation-drawer with-backdrop></pratilipi-navigation-drawer>
			</div>
			
		</div>
	</template>


	<script>

		Polymer({
			
			is: 'pratilipi-header',
			
			properties: {
				user: { type: Object, notify: true },
			},

			showMenu: function() {
				this.querySelector( 'pratilipi-navigation-drawer' ).show();
			},
			
			logIn: function() {
				document.querySelector( 'pratilipi-user' ).logIn();
			},
			
			logOut: function() {
				document.querySelector( 'pratilipi-user' ).logOut();
			},

		});

	</script>

</dom-module>