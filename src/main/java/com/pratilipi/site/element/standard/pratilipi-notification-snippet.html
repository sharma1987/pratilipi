<dom-module id="pratilipi-notification-snippet">

	<style>
		.notification-unread-state, .notification-unread-state:hover {
			background-color: #f7f7f7;
		}
		.notification-read-state, .notification-read-state:hover {
			background-color: #ffffff;
		}
		.list-group-item {
			border: 1px solid #d3d3d3;
			border-top: none;
		}
	</style>

	<template>
		<a class="notification-message list-group-item" style="border-radius: 0px;" href="{{ sourceUrl }}">
			<span class="notification-message-snippet"></span>
			<br><iron-icon icon="social:person" style="height: 18px;width: 18px;"></iron-icon>&nbsp;<span style="display: inline;" class="text-muted">{{ time }}</span>
		</a>
	</template>

	<script>
		Polymer({

			is: 'pratilipi-notification-snippet',

			properties: {
				notification: { type: Object, observer: "_notificationObserver" },
				notificationId: { type: String },
				message: { type: String },
				sourceUrl: { type: String },
				state: { type: String }
			},

			_notificationObserver: function() {
				this.set( 'notificationId', this.notification.notificationId );
				this.set( 'message', this.notification.message );
				this.set( 'sourceUrl', this.notification.sourceUrl );
				this.set( 'time', convertDate( this.notification.lastUpdatedMillis ) );

				jQuery( this.querySelector( '.notification-message-snippet' ) ).html( this.message );
				jQuery( this.querySelector( '.notification-message' ) ).addClass( this.notification.state == "UNREAD" ? 
						"notification-unread-state" : "notification-read-state" );

			},

		});
	</script>

</dom-module>