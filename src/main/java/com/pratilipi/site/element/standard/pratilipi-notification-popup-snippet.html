<dom-module id="pratilipi-notification-popup-snippet">

	<style>
		.notification-unread-state {
			background-color: #f7f7f7;
		}
	</style>

	<template>
		<a class="notification-message list-group-item" style="border:none;" href="{{ sourceUrl }}">
		<br><iron-icon icon="social:person" style="height: 18px;width: 18px;"></iron-icon>&nbsp;<p style="display: inline;" class="text-muted">{{ time }}</p>
		</a>
		<hr style="margin: 1px;">
	</template>
		

	<script>
		Polymer({

			is: 'pratilipi-notification-popup-snippet',

			properties: {
				notification: { type: Object, observer: "_notificationObserver" },
				notificationId: { type: String },
				message: { type: String },
				sourceUrl: { type: String },
				state: {type: String}
			},

			_notificationObserver: function() {
				this.set( 'notificationId', this.notification.notificationId );
				this.set( 'message', this.notification.message );
				this.set( 'sourceUrl', this.notification.sourceUrl );
				this.set( 'state', this.notification.state );
				this.set( 'lastUpdatedMillis', this.notification.lastUpdatedMillis );
				this.set( 'time', convertDate( this.lastUpdatedMillis ) );

				jQuery( this.querySelector( '.notification-message' ) ).prepend( this.message );
				
				if( this.state == "UNREAD" ) {
					jQuery( this.querySelector( '.notification-message' ) ).addClass( "notification-unread-state" );
				}
			},

		});
	</script>

</dom-module>